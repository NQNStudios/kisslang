(load "../UtilMacros.kiss")

(function run []
    (day 1
        (load "day1.kiss")
        (assert (= 1475 (countIncreases (Util.readInts "src/year2021/inputs/day1.txt"))))
        (assert (= 1516 (countIncreases (for trio (slicesOf (Util.readInts "src/year2021/inputs/day1.txt") 3) (apply + trio))))))
    (day 2
        (load "day2.kiss")
        (assert (= 2150351 (apply * (simulateSubCommands (readSubCommands "src/year2021/inputs/day2.txt")))))
        (assert (= 1842742223 (apply * (simulateSubCommands (readSubCommands "src/year2021/inputs/day2.txt") true)))))
    (day 3
        (load "day3.kiss")
        (let [inputs (Util.readLines "src/year2021/inputs/day3.txt")]
            (assert (= 845186 (* (rate inputs false) (rate inputs true))))))
    (day 4
        (load "day4.kiss")
        (assert (= 4512 (winningScore "src/year2021/inputs/day4-example.txt")))
        (assert (= 46920 (winningScore "src/year2021/inputs/day4.txt"))))
    (dayTodo 5)
    (day 6
        (load "day6.kiss")
        (assert (= "5934" (countAfter "src/year2021/inputs/day6-example.txt" 80)))
        (assert (= "26984457539" (countAfter "src/year2021/inputs/day6-example.txt" 256)))
        (assert (= "346063" (countAfter "src/year2021/inputs/day6.txt" 80)))
        (assert (= "1572358335990" (countAfter "src/year2021/inputs/day6.txt" 256))))
    (dayTodo 7)
    (dayTodo 8)
    (dayTodo 9)
    (dayTodo 10)
    (dayTodo 11)
    (dayTodo 12)
    (dayTodo 13)
    (dayTodo 14)
    (dayTodo 15)
    (dayTodo 16)
    (dayTodo 17)
    (dayTodo 18)
    (dayTodo 19)
    (dayTodo 20)
    (dayTodo 21)
    (dayTodo 22)
    (dayTodo 23)
    (dayTodo 24)
    (dayTodo 25))
