(defprop &mut accumulator 0)

(defmethod setBreakPoint [] (addBreakPoint instructionPointer))

(defmethod nop [v :Dynamic self] (self.setBreakPoint))
(defmethod acc [v :Dynamic self] (self.setBreakPoint) (set self.accumulator (+ self.accumulator v)))
(defmethod jmp [v :Dynamic self]
    (self.setBreakPoint)
    (print (+ "jumping " (Std.string v) " from " (Std.string (+ 1 self.instructionPointer))))
    (set self.instructionPointer (+ self.instructionPointer (- v 1))))