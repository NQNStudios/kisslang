(defun countChar [char str]
    (count (str.split "") (lambda [c] ?(= c char))))

(defun parsePasswordCheck [:String ruleStr]
    (let [[min max letter]
                (.split (ruleStr.replace " " "-") "-")]
        (lambda [password] (<= (Std.parseInt min) (countChar letter password) (Std.parseInt max)))))

(defun validateInputLine [:String line]
    (let [[rule password]
                (line.split ": ")]
        ((parsePasswordCheck rule) password)))